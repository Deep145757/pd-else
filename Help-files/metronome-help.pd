#N canvas 649 36 564 658 10;
#X obj 4 267 cnv 3 550 3 empty empty inlets 8 12 0 13 #dcdcdc #000000
0;
#X obj 4 439 cnv 3 550 3 empty empty outlets 8 12 0 13 #dcdcdc #000000
0;
#X obj 4 586 cnv 3 550 3 empty empty arguments 8 12 0 13 #dcdcdc #000000
0;
#X obj 76 447 cnv 17 3 17 empty empty 0 5 9 0 16 #dcdcdc #9c9c9c 0
;
#X obj 77 274 cnv 17 3 141 empty empty 0 5 9 0 16 #dcdcdc #9c9c9c 0
;
#X obj 4 629 cnv 15 552 21 empty empty empty 20 12 0 14 #e0e0e0 #202020
0;
#X obj 165 137 bng 17 250 50 0 empty empty empty 17 7 0 10 #dcdcdc
#000000 #000000;
#X text 166 274 bang;
#X obj 306 4 cnv 15 250 40 empty empty empty 12 13 0 18 #7c7c7c #e0e4dc
0;
#N canvas 382 141 749 319 (subpatch) 0;
#X coords 0 -1 1 1 252 42 2 100 100;
#X restore 305 3 pd;
#X obj 345 11 cnv 10 10 10 empty empty ELSE 0 15 2 30 #7c7c7c #e0e4dc
0;
#X obj 23 40 cnv 4 4 4 empty empty High\\\ level\\\ metronome 0 28
2 18 #e0e0e0 #000000 0;
#X obj 458 11 cnv 10 10 10 empty empty EL 0 6 2 13 #7c7c7c #e0e4dc
0;
#X obj 478 11 cnv 10 10 10 empty empty Locus 0 6 2 13 #7c7c7c #e0e4dc
0;
#X obj 515 11 cnv 10 10 10 empty empty Solus' 0 6 2 13 #7c7c7c #e0e4dc
0;
#X obj 464 26 cnv 10 10 10 empty empty ELSE 0 6 2 13 #7c7c7c #e0e4dc
0;
#X obj 502 26 cnv 10 10 10 empty empty library 0 6 2 13 #7c7c7c #e0e4dc
0;
#X obj 378 190 nbx 3 14 -1e+37 1e+37 0 0 empty empty empty 0 -8 0 10
#dcdcdc #000000 #000000 0 256;
#X obj 3 3 cnv 15 301 42 empty empty metronome 20 20 2 37 #e0e0e0 #000000
0;
#N canvas 0 22 450 278 (subpatch) 0;
#X coords 0 1 100 -1 302 42 1 0 0;
#X restore 3 3 graph;
#X obj 176 162 tgl 17 0 empty empty empty 17 7 0 10 #dfdfdf #000000
#000000 0 1;
#X text 378 173 tempo;
#X obj 165 237 bng 17 250 50 0 empty empty empty 17 7 0 10 #fcfcfc
#000000 #000000;
#X text 184 138 (re)start;
#X text 160 302 float;
#X msg 93 165 stop;
#X text 166 316 stop;
#X text 94 372 timesig <sym \, f>;
#X text 196 372 - set time signature symbol and group value, f 47
;
#X text 160 418 float;
#X text 166 448 bang;
#X text 196 448 - bang at every beat, f 47;
#X text 160 491 float;
#X obj 76 418 cnv 17 3 17 empty empty 1 5 9 0 16 #dcdcdc #9c9c9c 0
;
#X obj 76 468 cnv 17 3 17 empty empty 1 5 9 0 16 #dcdcdc #9c9c9c 0
;
#X obj 76 489 cnv 17 3 17 empty empty 2 5 9 0 16 #dcdcdc #9c9c9c 0
;
#X obj 76 510 cnv 17 3 17 empty empty 3 5 9 0 16 #dcdcdc #9c9c9c 0
;
#X text 196 491 - beat phase output (0-1), f 47;
#X floatatom 307 238 10 0 0 0 - - - 0;
#X text 160 288 start;
#X text 196 274 - start or restart metronome, f 47;
#X text 196 288 - same as bang (start or restart metronome), f 47
;
#X text 112 400 tempo <float>;
#X text 196 400 - set tempo value in BPM, f 47;
#X text 196 418 - set tempo value in BPM, f 47;
#X obj 4 533 cnv 3 550 3 empty empty flag 8 12 0 13 #dcdcdc #000000
0;
#N canvas 529 104 789 534 clock 0;
#X obj 81 48 tgl 20 0 empty empty empty 17 7 0 10 #dcdcdc #000000 #000000
0 1;
#X obj 97 460 else/out~;
#X msg 156 124 timesig 7/8;
#X msg 141 97 timesig 6/8;
#X msg 114 49 timesig 15/8 3;
#X msg 171 150 timesig 4/4;
#X msg 183 175 timesig 3/4;
#X msg 125 71 timesig 15/8 5;
#X obj 184 332 else/clock -s 2;
#X obj 81 390 else/resonant~ 700 100, f 14;
#X obj 184 415 else/resonant~ 1300 100, f 14;
#X obj 385 56 tgl 20 0 empty empty empty 17 7 0 10 #dcdcdc #000000
#000000 0 1;
#X obj 434 459 else/out~;
#X msg 456 130 timesig 7/8;
#X msg 445 105 timesig 6/8;
#X msg 418 57 timesig 15/8 3;
#X msg 467 151 timesig 4/4;
#X msg 477 173 timesig 3/4;
#X msg 429 79 timesig 15/8 5;
#X obj 521 297 tgl 17 0 empty empty empty 17 7 0 10 #dfdfdf #000000
#000000 0 1;
#X obj 418 389 else/resonant~ 700 100, f 14;
#X obj 521 414 else/resonant~ 1300 100, f 14;
#X obj 521 358 bng 17 250 50 0 empty empty empty 17 7 0 10 #dfdfdf
#000000 #000000;
#X obj 521 331 else/clock \$0-clock -s 2;
#X msg 271 301 1.5;
#X msg 240 301 2;
#X msg 303 301 0.5;
#X text 259 12 Example of [clock] objects in sync., f 41;
#X text 583 75 A [metronome] can also have a clock name with the '-name'
flag., f 22;
#X obj 184 302 tgl 17 0 empty empty empty 17 7 0 10 #dfdfdf #000000
#000000 0 1;
#X obj 184 359 bng 17 250 50 0 empty empty empty 17 7 0 10 #dfdfdf
#000000 #000000;
#X msg 662 301 1.5;
#X msg 631 301 2;
#X msg 694 301 0.5;
#X text 450 298 turn on =>;
#X text 114 304 turn on =>;
#X text 317 59 turn on =>;
#X text 13 50 turn on =>;
#X obj 81 255 bng 22 250 50 0 empty empty empty 17 7 0 10 #dcdcdc #000000
#000000;
#X text 47 254 beat bang, f 4;
#X obj 81 218 else/metronome, f 35;
#X obj 81 356 else/impseq~;
#X obj 418 355 else/impseq~;
#X obj 184 388 else/impseq~;
#X obj 521 387 else/impseq~;
#X floatatom 287 185 4 0 0 0 - - - 12;
#X text 288 162 tempo;
#X obj 418 244 bng 22 250 50 0 empty empty empty 17 7 0 10 #dcdcdc
#000000 #000000;
#X text 384 243 beat bang, f 4;
#X floatatom 589 174 4 0 0 0 - - - 12;
#X text 590 151 tempo;
#X obj 418 207 else/metronome -name \$0-clock;
#X connect 0 0 40 0;
#X connect 2 0 40 0;
#X connect 3 0 40 0;
#X connect 4 0 40 0;
#X connect 5 0 40 0;
#X connect 6 0 40 0;
#X connect 7 0 40 0;
#X connect 8 0 30 0;
#X connect 9 0 1 0;
#X connect 10 0 1 1;
#X connect 11 0 51 0;
#X connect 13 0 51 0;
#X connect 14 0 51 0;
#X connect 15 0 51 0;
#X connect 16 0 51 0;
#X connect 17 0 51 0;
#X connect 18 0 51 0;
#X connect 19 0 23 0;
#X connect 20 0 12 0;
#X connect 21 0 12 1;
#X connect 22 0 44 0;
#X connect 23 0 22 0;
#X connect 24 0 8 1;
#X connect 25 0 8 1;
#X connect 26 0 8 1;
#X connect 29 0 8 0;
#X connect 30 0 43 0;
#X connect 31 0 23 1;
#X connect 32 0 23 1;
#X connect 33 0 23 1;
#X connect 38 0 41 0;
#X connect 40 0 38 0;
#X connect 41 0 9 0;
#X connect 42 0 20 0;
#X connect 43 0 10 0;
#X connect 44 0 21 0;
#X connect 45 0 40 1;
#X connect 47 0 42 0;
#X connect 49 0 51 1;
#X connect 51 0 47 0;
#X restore 493 210 pd clock;
#X text 152 594 1) float - (optional) tempo in BPM (default 120),
f 49;
#X text 196 302 - non-zero (re)starts \, zero stops, f 47;
#X text 22 199 see also:;
#X obj 22 218 else/clock;
#X text 196 163 start/stop;
#X text 112 358 beat <symbol>;
#X text 196 358 - set beat length symbol, f 47;
#N canvas 448 96 846 546 beat-length 0;
#X obj 415 33 tgl 20 0 empty empty empty 17 7 0 10 #dfdfdf #000000
#000000 0 1;
#X msg 462 132 beat 1/4 \, timesig 3/4;
#X msg 472 153 beat 1/4 \, timesig 6/8;
#X msg 477 174 beat 3/8 \, timesig 6/8;
#X obj 658 226 nbx 3 14 -1e+37 1e+37 0 0 empty empty empty 0 -8 0 10
#dcdcdc #000000 #000000 0 256;
#X obj 658 197 else/initmess 90;
#X msg 443 87 beat 1/2 \, timesig 4/4;
#X msg 452 110 beat 1/8 \, timesig 4/4;
#X msg 491 216 beat 1/6 \, timesig 2/4;
#X msg 433 67 beat 1/4 \, timesig 4/4;
#X text 573 66 default values;
#X msg 484 195 beat 1/8 \, timesig 6/8;
#X text 46 174 In the same way \, a beat of "1/8" means the BPM is
for an eight note \, so a 4/4 beat will be have an actual beat that
is twice as slow and an actual beat lenght that is equal to 2!, f
51;
#X text 46 225 If you set a "6/8" time signature \, it will give you
two groups of beats subdivided by 3 \, that means you get two beats
whose lenght is 3/8 (the same as a dotted quarter note). With the default
beat length of 1/4 \, the tempo is for a quarter note \, not a dotted
quarter note \, so each beat will actually have a lenght of 1.5! If
you want the given tempo to reflect a beat duration of 3/8 \, just
send the "beat 3/8" message. Now the two rightmost outlets will make
sure that the beat corresponds to the given tempo. Each eigh note is
now one third of the beat., f 51;
#X text 46 365 You can also set a 6/8 time signature and say the tempo
corresponds to an eight note \, which makes the whole beat three times
as slow., f 51;
#X text 46 421 Note you can also set other beat lenghts that correspond
to tuplets. A beat lenght of "1/6" considers a quarter note triplet
as the beat lenght. For a "2/4" signature \, the actual beat lenght
of 1.5 \, because a quarter note fits 1.5 quarter note triplets (or
3 eight note triplets) inside. Note that this has the same beat lenght
and number of tempos than a 6/8 time signature with a beat lenght of
1/4!, f 65;
#X obj 415 377 bng 22 250 50 0 empty empty empty 17 7 0 10 #dcdcdc
#000000 #000000;
#X text 443 375 beat bang, f 4;
#X obj 496 434 else/out~;
#X obj 580 350 hsl 150 19 0 1 0 0 empty empty empty -2 -8 0 10 #dcdcdc
#000000 #000000 0 1;
#X floatatom 577 377 9 0 0 0 - - - 12;
#X text 649 378 phase (0-1);
#X listbox 496 378 9 0 0 0 - - - 12;
#X listbox 658 318 17 0 0 0 - - - 12;
#X text 668 285 actual beat length and tempo, f 18;
#X text 502 330 bar \; beat \; sub-beat;
#X obj 415 263 else/metronome 60, f 41;
#X text 46 46 By default \, the beat length is 1/4 (wich means a quarter
note). So when you set a tempo value \, that BPM considers a fourth
note. You can set the beat legnth with the 'beat' message or '-beat'
flag. You can set it before a time signature change. If you set the
beat length to "1/2" \, the BPM value is for a half note. If you still
have a 4/4 time signature \, this means that each beat (which is a
quarter note here) will have a beat twice as fast than the given tempo
and the actual lenght is half! You can see this in the rightmost outlet.
, f 51;
#X obj 496 408 else/metronome~;
#X connect 0 0 26 0;
#X connect 1 0 26 0;
#X connect 2 0 26 0;
#X connect 3 0 26 0;
#X connect 4 0 26 1;
#X connect 5 0 4 0;
#X connect 6 0 26 0;
#X connect 7 0 26 0;
#X connect 8 0 26 0;
#X connect 9 0 26 0;
#X connect 11 0 26 0;
#X connect 19 0 20 0;
#X connect 22 0 28 0;
#X connect 26 0 16 0;
#X connect 26 1 22 0;
#X connect 26 2 19 0;
#X connect 26 3 23 0;
#X connect 28 0 18 0;
#X restore 457 170 pd beat-length;
#X text 95 552 -beat <symbol> - set a beat length (default: 1/4),
f 71;
#X text 95 538 -name <symbol> - set a clock name (default: internal
relative to patch), f 71;
#X listbox 378 238 6 0 0 0 - - - 0;
#X listbox 236 238 9 0 0 0 - - - 0;
#X text 166 469 list;
#X text 166 511 list;
#X text 196 511 - actual beat length and tempo values, f 47;
#N canvas 880 166 371 184 time-sig 0;
#X text 66 28 Check subpatches below;
#N canvas 470 71 839 611 irrational 0;
#X msg 445 65 timesig 2/2.666666666;
#X msg 469 117 timesig 4/3.55555555555;
#X msg 474 137 timesig 4/(32/9);
#X text 29 97 The denominator of a time signature defines the tempo
value as a fraction of a whole note (whose value is "1"). The base
tempo value \, by default \, is a quarter note \, defined as "1/4".
Hence \, a "4/4" time signature defines 4 beats of quarter notes. Besides
multiples of '2' as the denumerator \, which is common in music notation
\, you can also use other values. For instance '2/3' means two beats
of a tempo that is equal to 1/3 of a whole note. This would then be
the same as a triplet of a half note. Consequently \, '4/6' is four
beats of a quarter note triplet. On the other hand 3/5 is three beats
of a quarter note quintuplet., f 61;
#X text 29 227 If you want a '3:2' triplet as the tempo value (where
you have 3 quarter notes in the space of two) you have to calculate
how many of them fits in a whole note. The base value is still a quarter
note (even though it is a triplet) so we can just multiply 3:2 by 4!
That gives us "12/2" \, which is "6" and means you can fit 6 of them
in a whole note. Therefore \, the denominator is "6"! We've seen this
already \, but the point is that this also doesn't need to be an integer
value. Let's see another case were we don't have an integer., f 61
;
#X text 29 342 Let's think of a '2:3' tuplet for quarter notes \, which
is the same as a dotted quarter note. We multiply by 4 and get "8/3"
\, which is "2.66667"! So yeah \, 2/2.66667 is a possible value that
defines 2 tempos of a '2:3' quarter note tuplet. This gives us the
same bar length of 3/4 and 6/8 but it's a "simple" binary time signature.
, f 61;
#X msg 425 33 timesig 4/6;
#X text 503 32 four beats of a quarter note triplet;
#X msg 452 83 timesig 2/(8/3);
#X text 589 69 two beats of '2:3' tuplet for quarter notes, f 25;
#X text 618 115 four beats of '8:9' for quarter notes, f 19;
#X msg 487 172 timesig 3/5;
#X text 568 166 three beats of '4:5' (quintuplets) for quarter notes
, f 34;
#X msg 494 211 timesig 6/10;
#X text 579 205 six beats of '4:5' (quintuplets) for eight notes (grouped
in 2), f 34;
#X obj 528 314 tgl 20 0 empty empty empty 17 7 0 10 #dfdfdf #000000
#000000 0 1;
#X msg 505 250 timesig 3/4.75;
#X text 606 244 three beats of "whatever" (I don't know \, just going
crazy), f 30;
#X text 649 286 going even crazier, f 19;
#X msg 510 287 timesig 4/(30.7/5.65);
#X obj 425 477 bng 22 250 50 0 empty empty empty 17 7 0 10 #dcdcdc
#000000 #000000;
#X text 424 505 beat bang, f 4;
#X obj 506 534 else/out~;
#X obj 590 450 hsl 150 19 0 1 0 0 empty empty empty -2 -8 0 10 #dcdcdc
#000000 #000000 0 1;
#X floatatom 587 477 9 0 0 0 - - - 12;
#X text 659 478 phase (0-1);
#X listbox 506 478 9 0 0 0 - - - 12;
#X listbox 668 418 18 0 0 0 - - - 12;
#X text 678 385 actual beat length and tempo, f 18;
#X obj 506 508 else/metronome~;
#X text 29 15 You can have other values as the denominator other than
the usual multiples of "2" (4/4 \, 6/6 \, 15/16 \, etc). These can
be intergers or floats (which can also be defined as fractions) and
are also known as 'irrational' time signatures (or 'non power of two').
This allows you to set tuplets as the tempo \, see below. Any time
signature you can set as a messgae can also be set as an argument.
, f 61;
#X text 29 414 Let's get a bit crazier now and use an 8:9 tuplet for
eight notes (where we have eight eigth notes in the space of nine eight
notes) and consider two of them (hence \, a quarter note) as the beat
lenght. The ratio is actually "4:4.5" but let's use the "8:9" and multiply
it by 4 (as the base measure is a fourth note). So 8:9 x 4 is "32:9"
\, which is "3.555556". Therefore \, 4/3.555556 means 4 beats that
fit into 9 eight notes., f 61;
#X text 29 509 The time signature \, for now \, only accepts integers
for the numerator (number of beats) \, but it accepts floats as the
denumerator as well as fractions in parenthesis. Hence \, you can define
"2/2.66667" or 2/(8/3). Likewise: "4/3.555556" or 4/(32/9). Both formats
work! Number in fractions don't need to be integers as well so all
crazy things can happen to define a tempo duration., f 61;
#X text 512 420 bar \; sub-bar \; beat \; sub-beat;
#X obj 425 363 else/metronome 60 2/(8/3), f 41;
#X connect 0 0 34 0;
#X connect 1 0 34 0;
#X connect 2 0 34 0;
#X connect 6 0 34 0;
#X connect 8 0 34 0;
#X connect 11 0 34 0;
#X connect 13 0 34 0;
#X connect 15 0 34 0;
#X connect 16 0 34 0;
#X connect 19 0 34 0;
#X connect 23 0 24 0;
#X connect 26 0 29 0;
#X connect 29 0 22 0;
#X connect 34 0 20 0;
#X connect 34 1 26 0;
#X connect 34 2 23 0;
#X connect 34 3 27 0;
#X restore 64 97 pd irrational;
#N canvas 436 23 500 600 basic 0;
#X msg 121 196 timesig 7/8;
#X msg 96 148 timesig 6/8;
#X msg 85 123 timesig 15/8 3;
#X msg 106 170 timesig 12/8;
#X msg 60 101 timesig 15/8 5;
#X text 154 101 15/8 grouped in 5 groups (3 sub-beats each);
#X text 178 123 15/8 grouped in 3 groups (5 sub-beats each);
#X text 171 148 automatically grouped in 2 (3 sub-beats each);
#X text 186 168 automatically grouped in 4 (3 sub-beats each);
#X text 197 193 automatically grouped in 7 (1 sub-beats each);
#X text 17 70 The default time signature is 4/4., f 78;
#X text 17 33 Group makes sense for compound time signatures. By default
\, the group number is 1 \, but for the numerator 6 \, 9 and 12 (as
in 6/8 \, 9/8 and 12/8) the default group number is \, respectively
\, 2 \, 3 and 4 \, see examples below., f 78;
#X text 17 7 Time signatures are specified by symbols in the usual
notation way \, optionally you can set a group number (which also defines
the number of sub-beats)., f 78;
#X msg 128 220 timesig 3/4;
#X obj 24 147 tgl 20 0 empty empty empty 17 7 0 10 #dfdfdf #000000
#000000 0 1;
#X text 14 561 Similarly \, 7/8 considers an eigth note as the tempo
\, so you have "0.5" and "120" instead., f 77;
#X text 204 220 automatically grouped in 3 (1 sub-beats each);
#X obj 85 383 bng 22 250 50 0 empty empty empty 17 7 0 10 #dcdcdc #000000
#000000;
#X text 51 382 beat bang, f 4;
#X obj 166 438 else/out~;
#X obj 250 356 hsl 150 19 0 1 0 0 empty empty empty -2 -8 0 10 #dcdcdc
#000000 #000000 0 1;
#X floatatom 247 383 9 0 0 0 - - - 12;
#X text 319 384 phase (0-1);
#X listbox 166 384 10 0 0 0 - - - 12;
#X listbox 328 325 9 0 0 0 - - - 12;
#X text 399 313 actual beat length and tempo, f 11;
#X text 14 501 Note how the tempo depends on the grouping of sub beats.
So 3/4 does not have the same tempo duration as 6/8! This is clear
in rightmost outlet. For instance \, 6/8 grouped in 2 considers that
a beat is three eight notes. In relation to a 60 bpm for a quarter
note as a base beat lenght we have a beat that is "1.5" and an actual
bpm of "40"., f 77;
#X text 172 326 bar \; sub-bar \; beat \; sub-beat;
#X obj 166 414 else/metronome~;
#X text 267 413 <= metronome clicks;
#X msg 136 248 timesig 6/4;
#X text 213 248 automatically grouped in 2;
#X msg 146 272 timesig 6/4 6;
#X text 235 272 grouped in 6 (so we have 6 tempos);
#X obj 85 304 else/metronome 90 15/8 5, f 41;
#X connect 0 0 34 0;
#X connect 1 0 34 0;
#X connect 2 0 34 0;
#X connect 3 0 34 0;
#X connect 4 0 34 0;
#X connect 13 0 34 0;
#X connect 14 0 34 0;
#X connect 20 0 21 0;
#X connect 23 0 28 0;
#X connect 28 0 19 0;
#X connect 30 0 34 0;
#X connect 32 0 34 0;
#X connect 34 0 17 0;
#X connect 34 1 23 0;
#X connect 34 2 20 0;
#X connect 34 3 24 0;
#X restore 64 67 pd basic;
#X text 153 97 or "non power of two";
#N canvas 470 70 606 541 complex 0;
#X obj 90 110 tgl 20 0 empty empty empty 17 7 0 10 #dfdfdf #000000
#000000 0 1;
#X obj 125 319 bng 22 250 50 0 empty empty empty 17 7 0 10 #dcdcdc
#000000 #000000;
#X text 124 347 beat bang, f 4;
#X obj 206 376 else/out~;
#X obj 290 292 hsl 150 19 0 1 0 0 empty empty empty -2 -8 0 10 #dcdcdc
#000000 #000000 0 1;
#X floatatom 287 319 9 0 0 0 - - - 12;
#X text 359 320 phase (0-1);
#X listbox 206 320 9 0 0 0 - - - 12;
#X listbox 368 260 18 0 0 0 - - - 12;
#X text 378 227 actual beat length and tempo, f 18;
#X obj 206 350 else/metronome~;
#X msg 125 112 timesig 3/4 + 3/8;
#X msg 142 140 timesig 5/8 + 6/8;
#X msg 157 172 timesig 4/4 + 3/8 + 3/16 + 4/6;
#X text 212 259 bar \; sub-bar \; beat \; sub-beat;
#X text 33 26 Complex time signatures are here defined as an addition
of different time signatures. These can be also considered 'alternating'
or aggregate. This is where the 'sub-bar' count is meaningful as each
time signature counts as a sub bar. You can sum up to 10 different
'sub-bars' and you can also use 'irrational' and crazy denominators
as shown before., f 85;
#X text 67 455 Note thar if you change from one complex time signature
to another time signature before the last sub-bar (so you still have
one or more sub-bars to go) \, it won't wait until all sub-bars finish.
This means the next sub-bar will already reflect the time signature
change., f 81;
#X obj 125 205 else/metronome 90 4/4 + 3/8 + 3/16 + 4/6, f 41;
#X connect 0 0 17 0;
#X connect 4 0 5 0;
#X connect 7 0 10 0;
#X connect 10 0 3 0;
#X connect 11 0 17 0;
#X connect 12 0 17 0;
#X connect 13 0 17 0;
#X connect 17 0 1 0;
#X connect 17 1 7 0;
#X connect 17 2 4 0;
#X connect 17 3 8 0;
#X restore 64 127 pd complex;
#X text 122 67 simplel & compound;
#X text 138 127 complex (alternate or aggreagate);
#X restore 475 150 pd time-sig;
#X text 196 469 - bar \, sub-bar \, beat and sub-beat count, f 47
;
#X text 196 316 - stops the metronome (same as '0'), f 47;
#X text 142 344 continue;
#X msg 121 137 start;
#X obj 23 239 else/metronome~;
#N canvas 858 177 417 216 events 0;
#N canvas 397 97 460 454 example-1 0;
#X obj 144 156 tgl 20 0 empty empty empty 17 7 0 10 #dcdcdc #000000
#000000 0 1;
#X text 76 159 turn on =>;
#X obj 144 220 bng 22 250 50 0 empty empty empty 17 7 0 10 #dcdcdc
#000000 #000000;
#X text 110 219 beat bang, f 4;
#X obj 225 231 unpack f f f f, f 7;
#X symbolatom 110 298 10 0 0 0 - - - 12;
#X obj 110 357 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc
#000000 #000000;
#X obj 137 357 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc
#000000 #000000;
#X obj 165 357 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc
#000000 #000000;
#X obj 193 357 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc
#000000 #000000;
#X obj 110 326 sel 1:3 2:3 4:1 4:3;
#X obj 110 273 else/format symbol %s:%s;
#X msg 193 381 0;
#X obj 193 405 s \$0-metro;
#X obj 144 127 r \$0-metro;
#X obj 144 193 else/metronome, f 41;
#X obj 286 225 else/metronome~;
#X obj 286 260 else/out~;
#X text 53 32 The count list gives us 4 items that we can use to trigger
an event. For most cases \, just the 1st and 3rd element (bar and tempo)
are enough. Here we get them and format them into a symbol and use
[select] to detect it so we can trigger something in the patch. Note
we're using one event to turn the [metronome] off.;
#X connect 0 0 15 0;
#X connect 4 0 11 0;
#X connect 4 2 11 1;
#X connect 5 0 10 0;
#X connect 9 0 12 0;
#X connect 10 0 6 0;
#X connect 10 1 7 0;
#X connect 10 2 8 0;
#X connect 10 3 9 0;
#X connect 11 0 5 0;
#X connect 12 0 13 0;
#X connect 14 0 0 0;
#X connect 15 0 2 0;
#X connect 15 1 4 0;
#X connect 15 1 16 0;
#X connect 16 0 17 0;
#X restore 91 88 pd example-1;
#X text 71 33 Here are some examples on how you can use the count list
output to sequence events., f 48;
#N canvas 626 68 538 456 example-2 0;
#X listbox 186 166 10 0 0 0 - - - 12;
#X obj 216 298 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc
#000000 #000000;
#X obj 247 298 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc
#000000 #000000;
#X obj 277 298 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc
#000000 #000000;
#X obj 321 298 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc
#000000 #000000;
#X obj 186 298 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc
#000000 #000000;
#X msg 186 331 4/4;
#X msg 216 331 15/8 3;
#X msg 277 350 6/8;
#X obj 277 382 else/insert timesig;
#X msg 407 382 stop;
#X obj 84 109 bng 17 250 50 0 empty empty empty 17 7 0 10 #dfdfdf #000000
#000000;
#X obj 61 233 else/metronome~;
#X obj 61 265 else/out~;
#X obj 186 221 change;
#X obj 407 417 s \$0-metronome;
#X obj 123 76 r \$0-metronome;
#X text 65 26 In this example we're just using the bar number (1st
item on the list) to set different time signatures depending on the
bar count., f 66;
#X text 45 111 start;
#X text 235 217 We convert to float with [trigger] and use [change]
to filter repeatitions., f 38;
#X obj 186 255 sel 1 2 3 4 6 8, f 31;
#X obj 123 168 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc
#000000 #000000;
#X obj 123 107 else/display;
#X msg 321 350 7/8 + 4/6;
#X obj 123 141 else/metronome 110, f 32;
#X obj 186 195 trigger float;
#X connect 0 0 12 0;
#X connect 0 0 25 0;
#X connect 1 0 7 0;
#X connect 2 0 23 0;
#X connect 3 0 8 0;
#X connect 4 0 23 0;
#X connect 5 0 6 0;
#X connect 6 0 9 0;
#X connect 7 0 9 0;
#X connect 8 0 9 0;
#X connect 9 0 15 0;
#X connect 10 0 15 0;
#X connect 11 0 24 0;
#X connect 12 0 13 0;
#X connect 14 0 20 0;
#X connect 16 0 22 0;
#X connect 20 0 5 0;
#X connect 20 1 1 0;
#X connect 20 2 2 0;
#X connect 20 3 3 0;
#X connect 20 4 4 0;
#X connect 20 5 10 0;
#X connect 22 0 24 0;
#X connect 23 0 9 0;
#X connect 24 0 21 0;
#X connect 24 1 0 0;
#X connect 25 0 14 0;
#X restore 92 120 pd example-2;
#N canvas 436 68 698 549 example-3 0;
#X listbox 130 258 9 0 0 0 - - - 0;
#X obj 32 351 else/metronome~;
#X obj 32 386 else/out~;
#X obj 226 324 == 3, f 5;
#X obj 193 351 spigot;
#X obj 193 416 else/impseq~;
#X obj 130 286 unpack f f f;
#X obj 193 446 else/resonant~ 2000 1000;
#X obj 67 173 tgl 20 0 empty empty empty 17 7 0 10 #dfdfdf #000000
#000000 0 1;
#X listbox 439 238 9 0 0 0 - - - 0;
#X obj 383 365 else/metronome~;
#X obj 383 400 else/out~;
#X obj 350 212 else/metronome, f 45;
#X obj 512 371 spigot;
#X obj 512 446 sel 1;
#X obj 512 473 else/impseq~;
#X obj 512 502 else/resonant~ 2000 1000;
#X obj 350 173 tgl 20 0 empty empty empty 17 7 0 10 #dfdfdf #000000
#000000 0 1;
#X msg 439 264 symbol \$1:\$3;
#X msg 439 331 1;
#X msg 478 331 0;
#X obj 439 307 sel 1:4;
#X obj 67 212 else/metronome, f 32;
#X obj 512 397 ==;
#X obj 564 406 else/frac2dec;
#X text 30 10 In these examples we're using the phase output information
to trigger something. To the left we open a spigot for every 3rd tempo
and get a bang when the phase is equal or greater then 0.333333 (about
one third of the beat). To the right \, we just do it for the fourth
tempo of the 1st bar and trigger when the phase precisely reaches 1/3
of the tempo. Note that the phase output has 960 frames \, so you can
multiply the output by 960 and match to an exact integer frame or use
the 0-1 range., f 101;
#X obj 439 286 else/changed;
#X obj 564 379 else/initmess 1/3;
#X obj 193 385 else/above 0.333333;
#X text 30 71 Considering 960 is a quarter note \, this allows you
to precisely match down to 256th notes (15 frames or 0.015625) \, triplets
down to a 512th triplet (5 frames) and quintuplets down to 1024th (3
frames). It can't precisely handle othe tuplets (like 7 \, 9 \, 11
\, etc) but you can use the [>] object for aproximations. Using [>]
can also be useful for ratios like one third of the phase output (0.33333)
as it won't really match. On the other hand \, converting fractions
as the example to right is possible to match precisely. In the example
below \, instead of using [>] \, we use [above] from ELSE \, which
is a simple asbtraction based on [>] \, [change] and [select]., f
101;
#X connect 0 0 1 0;
#X connect 0 0 6 0;
#X connect 1 0 2 0;
#X connect 3 0 4 1;
#X connect 4 0 28 0;
#X connect 5 0 7 0;
#X connect 6 2 3 0;
#X connect 7 0 2 1;
#X connect 8 0 22 0;
#X connect 9 0 10 0;
#X connect 9 0 18 0;
#X connect 10 0 11 0;
#X connect 12 1 9 0;
#X connect 12 2 13 0;
#X connect 13 0 23 0;
#X connect 14 0 15 0;
#X connect 15 0 16 0;
#X connect 16 0 11 1;
#X connect 17 0 12 0;
#X connect 18 0 26 0;
#X connect 19 0 13 1;
#X connect 20 0 13 1;
#X connect 21 0 19 0;
#X connect 21 1 20 0;
#X connect 22 1 0 0;
#X connect 22 2 4 0;
#X connect 23 0 14 0;
#X connect 24 0 23 1;
#X connect 26 0 21 0;
#X connect 27 0 24 0;
#X connect 28 0 5 0;
#X restore 92 150 pd example-3;
#X text 177 88 basic;
#X text 179 120 changing time signatures;
#X text 180 150 handling phase;
#X restore 487 230 pd events;
#X text 64 85 [metronome] understands complex time signatures and outputs
timeline data (bar \, sub-bar \, beat and sub-beat count) and phase
output. It also syncs to [clock] objects., f 73;
#X text 158 608 2) list - allowed time signature syntax (default 4/4)
;
#X obj 165 215 else/metronome 60 3/4, f 36;
#X msg 229 190 continue;
#X msg 183 187 pause;
#X text 160 330 pause;
#X text 196 330 - pauses the metronome, f 47;
#X text 196 344 - continues if paused, f 47;
#N canvas 803 86 522 484 -sub 0;
#X obj 82 87 tgl 20 0 empty empty empty 17 7 0 10 #dfdfdf #000000 #000000
0 1;
#X obj 325 195 nbx 3 14 -1e+37 1e+37 0 0 empty empty empty 0 -8 0 10
#dcdcdc #000000 #000000 0 256;
#X obj 325 166 else/initmess 90;
#X obj 82 346 bng 22 250 50 0 empty empty empty 17 7 0 10 #dcdcdc #000000
#000000;
#X text 50 344 beat bang, f 4;
#X obj 163 403 else/out~;
#X obj 247 319 hsl 150 19 0 1 0 0 empty empty empty -2 -8 0 10 #dcdcdc
#000000 #000000 0 1;
#X floatatom 244 346 9 0 0 0 - - - 12;
#X text 316 347 phase (0-1);
#X listbox 163 347 9 0 0 0 - - - 12;
#X listbox 325 287 17 0 0 0 - - - 12;
#X text 335 254 actual beat length and tempo, f 18;
#X text 169 299 bar \; beat \; sub-beat;
#X obj 163 377 else/metronome~;
#X msg 174 173 timesig 6/8;
#X msg 155 144 timesig 15/8 3;
#X msg 142 116 sub \$1;
#X obj 82 232 else/metronome -sub 90 15/8 3, f 41;
#X obj 142 88 tgl 20 0 empty empty empty 17 7 0 10 #dfdfdf #000000
#000000 0 1;
#X text 60 19 The -sub flag sets to subdivision (or subtempo) mode
\, where the bang output also bangs at subtempos. You can also use
the 'sub' message where non zero sets to subdivision mode and zero
sets to the default mode (only bang at tempo number changes)., f 64
;
#X connect 0 0 17 0;
#X connect 1 0 17 1;
#X connect 2 0 1 0;
#X connect 6 0 7 0;
#X connect 9 0 13 0;
#X connect 13 0 5 0;
#X connect 14 0 17 0;
#X connect 15 0 17 0;
#X connect 16 0 17 0;
#X connect 17 0 3 0;
#X connect 17 1 9 0;
#X connect 17 2 6 0;
#X connect 17 3 10 0;
#X connect 18 0 16 0;
#X restore 499 190 pd -sub;
#X text 155 566 -sub - sets to subdivision (subtempo) mode, f 61;
#X text 124 386 sub <float>;
#X text 196 386 - non zero sets to subdivision (subtempo) mode;
#X connect 6 0 71 0;
#X connect 17 0 71 1;
#X connect 20 0 71 0;
#X connect 25 0 71 0;
#X connect 66 0 71 0;
#X connect 71 0 22 0;
#X connect 71 1 58 0;
#X connect 71 2 38 0;
#X connect 71 3 57 0;
#X connect 72 0 71 0;
#X connect 73 0 71 0;
