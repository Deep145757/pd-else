#N canvas 539 23 562 565 10;
#X obj 116 150 bng 19 250 50 0 empty empty empty 0 -6 0 8 -228856 -1
-1;
#X floatatom 287 192 5 0 0 0 - - -;
#X obj 307 6 cnv 15 250 40 empty empty empty 12 13 0 18 -128992 -233080
0;
#N canvas 382 141 749 319 (subpatch) 0;
#X coords 0 -1 1 1 252 42 2 0 0;
#X restore 306 5 pd;
#X obj 346 13 cnv 10 10 10 empty empty ELSE 0 15 2 30 -128992 -233080
0;
#X obj 459 13 cnv 10 10 10 empty empty EL 0 6 2 13 -128992 -233080
0;
#X obj 479 13 cnv 10 10 10 empty empty Locus 0 6 2 13 -128992 -233080
0;
#X obj 516 13 cnv 10 10 10 empty empty Solus' 0 6 2 13 -128992 -233080
0;
#X obj 465 28 cnv 10 10 10 empty empty ELSE 0 6 2 13 -128992 -233080
0;
#X obj 503 28 cnv 10 10 10 empty empty library 0 6 2 13 -128992 -233080
0;
#X obj 25 42 cnv 4 4 4 empty empty Beat\\\ detection 0 28 2 18 -233017
-1 0;
#X obj 4 5 cnv 15 301 42 empty empty beat~ 20 20 2 37 -233017 -1 0
;
#N canvas 0 22 450 278 (subpatch) 0;
#X coords 0 1 100 -1 302 42 1;
#X restore 4 5 graph;
#X obj 206 165 else/resonant~ 500 2000;
#X obj 116 203 else/tap;
#X floatatom 116 230 9 0 0 0 - - -;
#X text 84 233 BPM;
#X obj 4 390 cnv 3 550 3 empty empty outlets 8 12 0 13 -228856 -1 0
;
#X obj 4 473 cnv 3 550 3 empty empty arguments 8 12 0 13 -228856 -1
0;
#X obj 95 399 cnv 17 3 17 empty empty 0 5 9 0 16 -228856 -162280 0
;
#X text 167 481 1) float;
#X obj 4 535 cnv 15 552 21 empty empty empty 20 12 0 14 -233017 -33289
0;
#X text 220 481 - level threshold (default 0), f 34;
#X text 189 399 bang -;
#X text 235 399 at beat detections;
#X obj 4 265 cnv 3 550 3 empty empty inlet 8 12 0 13 -228856 -1 0;
#X obj 95 274 cnv 17 3 84 empty empty 0 5 9 0 16 -228856 -162280 0
;
#X text 178 271 signal -;
#X text 235 271 input to analyze;
#X obj 95 365 cnv 17 3 17 empty empty 1 5 9 0 16 -228856 -162280 0
;
#X text 184 365 float -;
#X obj 488 94 else/setdsp~;
#X text 73 87 [beatz~] takes an input signal and outputs bangs at each
beat detection. The argument or right inlet set the threshold of the
onset detection., f 61;
#X obj 206 139 else/tempo~ -on 120;
#N canvas 752 86 379 513 example 0;
#X obj 86 246 bng 19 250 50 0 empty empty empty 0 -6 0 8 -228856 -1
-1;
#X floatatom 86 448 9 0 0 0 - - -;
#X obj 214 127 tgl 19 0 empty empty empty 0 -8 0 10 -228856 -1 -1 0
1;
#X obj 127 348 else/out~;
#X obj 112 277 else/impseq~;
#X obj 112 301 else/resonant~ 1500 500, f 14;
#X obj 86 417 else/tap;
#X text 109 465 BPM;
#X msg 86 118 mode \$1;
#X obj 86 91 hradio 19 1 0 9 empty empty empty 0 -8 0 10 -228856 -1
-1 0;
#X text 59 30 Testing on a rhythmic loop \, kind of a crazy one \,
so it's not always steady :) A simpler 4/4 rhythmic loop should work
better., f 48;
#X msg 102 152 window 512 \, hop 128, f 11;
#X obj 214 157 else/player~ loop.wav 1 1, f 12;
#X obj 86 220 else/beat~;
#X connect 0 0 4 0;
#X connect 0 0 6 0;
#X connect 2 0 12 0;
#X connect 4 0 5 0;
#X connect 5 0 3 0;
#X connect 6 0 1 0;
#X connect 8 0 13 0;
#X connect 9 0 8 0;
#X connect 11 0 13 0;
#X connect 12 0 3 1;
#X connect 12 0 13 0;
#X connect 13 0 0 0;
#X restore 461 226 pd example;
#X text 235 285 set mode (0 to 9);
#X text 142 285 mode <float> -;
#X text 130 299 thresh <float> -;
#X text 235 299 set threshold (0.1 to 1);
#X text 124 313 silence <float> -;
#X text 235 313 set silence level in dBFS;
#X text 130 328 window <float> -;
#X text 148 343 hop <float> -;
#X text 235 328 set analysis window size in samples;
#X text 235 343 set hop size in samples;
#X text 235 365 set threshold (0.1 to 1);
#X obj 4 424 cnv 3 550 3 empty empty flags 8 12 0 13 -228856 -1 0;
#X text 154 433 -mode <float>: set mode (default: 0);
#X text 136 449 -silence <float>: set silence level (default: -70)
;
#X text 167 496 2) float;
#X text 167 511 3) float;
#X text 220 496 - set window size (default 1024), f 34;
#X text 220 511 - set hop size (default 512), f 34;
#X obj 206 216 else/beat~ 0.3;
#X connect 0 0 14 0;
#X connect 1 0 53 1;
#X connect 13 0 53 0;
#X connect 14 0 15 0;
#X connect 33 0 13 0;
#X connect 53 0 0 0;
