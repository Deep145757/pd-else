#N canvas 570 36 562 728 10;
#X obj 23 40 cnv 4 4 4 empty empty Acess 0 28 2 18 -233017 -1 0;
#X obj 77 40 cnv 4 4 4 empty empty file 0 28 2 18 -233017 -1 0;
#X obj 2 3 cnv 15 301 42 empty empty dir 20 20 2 37 -233017 -1 0;
#N canvas 0 22 450 278 (subpatch) 0;
#X coords 0 1 100 -1 302 42 1;
#X restore 2 3 graph;
#X obj 305 4 cnv 15 250 40 empty empty empty 12 13 0 18 -128992 -233080
0;
#N canvas 382 141 749 319 (subpatch) 0;
#X coords 0 -1 1 1 252 42 2 0 0;
#X restore 304 3 pd;
#X obj 344 11 cnv 10 10 10 empty empty ELSE 0 15 2 30 -128992 -233080
0;
#X obj 457 11 cnv 10 10 10 empty empty EL 0 6 2 13 -128992 -233080
0;
#X obj 477 11 cnv 10 10 10 empty empty Locus 0 6 2 13 -128992 -233080
0;
#X obj 514 11 cnv 10 10 10 empty empty Solus' 0 6 2 13 -128992 -233080
0;
#X obj 463 26 cnv 10 10 10 empty empty ELSE 0 6 2 13 -128992 -233080
0;
#X obj 501 26 cnv 10 10 10 empty empty library 0 6 2 13 -128992 -233080
0;
#X obj 4 375 cnv 3 550 3 empty empty inlets 8 12 0 13 -228856 -1 0
;
#X obj 4 524 cnv 3 550 3 empty empty outlets 8 12 0 13 -228856 -1 0
;
#X obj 4 611 cnv 3 550 3 empty empty arguments 8 12 0 13 -228856 -1
0;
#X obj 4 701 cnv 15 552 21 empty empty empty 20 12 0 14 -233017 -33289
0;
#X obj 154 244 bng 17 250 50 0 empty empty empty 17 7 0 10 -228856
-1 -1;
#X obj 128 271 else/dir;
#X text 151 529 symbol -;
#X obj 118 39 cnv 4 4 4 empty empty directory 0 28 2 18 -233017 -1
0;
#X msg 114 157 dump;
#X msg 128 178 dir;
#X text 109 380 open <symbol> -;
#X text 169 423 dir -;
#X text 213 423 outputs the current directory in the right outlet,
f 54;
#X text 163 437 dump -;
#X obj 82 382 cnv 17 3 138 empty empty 0 5 9 0 16 -228856 -162280 0
;
#X obj 82 530 cnv 17 3 17 empty empty 0 5 9 0 16 -228856 -162280 0
;
#X text 163 451 bang -;
#X obj 82 550 cnv 17 3 17 empty empty 1 5 9 0 16 -228856 -162280 0
;
#X text 213 529 the files from the directory, f 54;
#X text 157 409 reset -;
#X text 213 409 resets to patch's directory, f 54;
#X obj 143 320 else/display 50;
#X msg 80 115 open ..;
#X msg 98 136 reset;
#X text 181 465 n -;
#X text 213 437 dump files from directory in the left outlet, f 54
;
#X text 115 479 seek <float> -;
#X text 163 493 next -;
#X text 213 479 seeks and output the file corresponding to that number
;
#X text 213 493 increments seek value and outputs file, f 54;
#X text 131 114 <= opens parent directory;
#N canvas 622 108 462 702 open 0;
#X text 64 14 The 'open' message expects a symbol defining a directory.
If the symbol starts with "/" \, then it means the symbol specifies
an absolute path. Otherwise \, [dir] will look for directories relative
to the current directory.;
#X text 64 69 For example \, "open samples" looks for a subdirectory
named 'samples' relative to the current directory. More than one level
of subdirectories (like "open samples/wav") can be given., f 60;
#X obj 46 281 else/dir;
#X obj 61 367 else/display 50;
#X msg 46 255 open \$1 \, dir;
#X symbolatom 46 230 40 0 0 0 - - -;
#X obj 91 306 else/display 2;
#X text 121 310 "1" if successfully opened \, "0" otherwise;
#X text 55 450 If you change the contents of your directory \, you
need to use the 'reopen' message to reload the direcory's contents.
;
#X text 54 416 Opening a directory also loads its contents so you can
query for files.;
#X text 64 121 To open the parent directory you can use "open .." \,
and "open ." will just reopen the same directory. You can also use
"./" or "../" \, and using "../../" will open the grandparent folder
and so on. If you ask for "../sounds" \, then it looks for a subfolder
named "sounds" in the parent directory. This is how Pd handles relative
directories in general anyway \, so nothing really new here..., f
60;
#X text 70 335 (If a directory can't be opened \, the previously opened
remains), f 63;
#X obj 70 532 openpanel 1;
#X obj 70 505 bng 17 250 50 0 empty empty empty 17 7 0 10 -228856 -1
-1;
#X obj 70 587 else/dir;
#X obj 115 612 tgl 15 0 empty empty empty 17 7 0 10 -228856 -1 -1 0
1;
#X msg 70 560 open \$1 \, dir;
#X obj 85 645 else/display;
#X text 94 500 You can use [openpanel] to search for a directory to
open., f 31;
#X connect 2 1 3 0;
#X connect 2 3 6 0;
#X connect 4 0 2 0;
#X connect 5 0 4 0;
#X connect 12 0 16 0;
#X connect 13 0 12 0;
#X connect 14 1 17 0;
#X connect 14 3 15 0;
#X connect 16 0 14 0;
#X restore 486 252 pd open;
#X text 139 617 1) float -;
#X text 133 654 1) symbol -;
#X text 213 617 (optional) relative directory level \, 0 is current
patch's directory \, 1 is parent's patch's \, 2 parent's parent's and
so on (default 0), f 54;
#X text 213 654 directory to open (default: relative directory level)
, f 54;
#X obj 82 590 cnv 17 3 17 empty empty 3 5 9 0 16 -228856 -162280 0
;
#X text 157 591 float -;
#X text 213 591 "1" if opened a new directory \, "0" if it couldn't
open;
#X text 115 507 ext <symbol> -;
#X text 213 507 sets extension, f 54;
#X obj 4 674 cnv 3 550 3 empty empty flags 8 12 0 13 -228856 -1 0;
#X text 115 681 -ext <symbol>:;
#X text 213 681 - sets file extension type, f 54;
#N canvas 560 27 603 606 arguments 0;
#X obj 111 198 else/display;
#X obj 92 173 else/dir 1;
#X msg 92 146 dir;
#X text 101 245 Note that the [dir] object can be inside any layers
of subpatches inside an abstraction or a patch to get the patch's directory
\, it doesn't matter., f 66;
#X obj 118 555 else/display;
#X msg 97 502 dir;
#X obj 97 529 else/dir ..;
#X text 113 23 If [dir] is used inside an abstraction \, the first
optional argument sets the abstraction's depth level and can be used
to query the parent patch's directory. for instance \, "0" (the default)
is the current patch level \, but "1" sets the default directory to
the parent's patch., f 63;
#X text 113 84 Level outside the possible range are ignored. For instance
\, in this example we ask for the parent's directory \, but this is
not an abstraction \, so it loads the patch's directory instead.,
f 63;
#X text 171 528 <= parent folder directory relative to patch's directory
;
#X obj 116 455 else/display;
#X msg 97 402 dir;
#X obj 97 429 else/dir /;
#X text 171 428 <= open the root directory;
#X text 100 288 The second symbol argument (which can also be the first
\, since the first float argument is optional) specifies a directory
to open. If the symbol starts with "/" \, then it specifies an absolute
path. Otherwise \, it defines a path relative to the directory level
specified by the first argument (or the current patch's directory if
no float argument is given). For instance \, an 'x' symbol searches
for a 'x' subfolder. You can also use '..' to specify a parent patch
(more about this syntax in the [pd open] subpatch)., f 66;
#X connect 1 1 0 0;
#X connect 2 0 1 0;
#X connect 5 0 6 0;
#X connect 6 1 4 0;
#X connect 11 0 12 0;
#X connect 12 1 10 0;
#X restore 457 233 pd arguments;
#X text 213 380 opens a directory and loads contents, f 54;
#X text 213 394 reloads contents of the last opened directory, f 54
;
#N canvas 862 120 333 332 extension-flag 0;
#X obj 95 181 else/dir -ext .wav;
#X obj 95 210 print;
#X msg 108 129 ext .aif;
#X msg 126 154 ext .wav;
#X text 33 19 You can ask [dir] to access only files of a certain extension.
This can be set via a flag or the 'ext' message. By default \, [dir]
accesses all files., f 41;
#X msg 95 98 ext;
#X text 120 97 <= sets to all extensions;
#X text 39 252 Changing the extension reopens and reloads the directory's
contents. Therefore \, the contents get updated if they've changed
and you don't need a 'reopen' message for that., f 42;
#X msg 54 130 dump;
#X connect 0 0 1 0;
#X connect 2 0 0 0;
#X connect 3 0 0 0;
#X connect 5 0 0 0;
#X connect 8 0 0 0;
#X restore 426 271 pd extension-flag;
#X text 87 86 [dir] accesses files from a given directory.;
#X obj 158 293 else/display 4;
#X obj 82 570 cnv 17 3 17 empty empty 2 5 9 0 16 -228856 -162280 0
;
#X text 157 571 float -;
#X text 151 550 symbol -;
#X text 213 550 the current directory, f 54;
#X text 213 571 'n' number of found files, f 54;
#X text 227 272 <= open flag;
#X text 213 451 outputs 'n' \, 'directory' and 'files', f 54;
#X obj 128 349 print Files;
#X text 147 156 <= dump all files from the directory (left outlet)
;
#X text 198 296 <= 'n' number of files.;
#X msg 138 199 n, f 2;
#X msg 148 221 n \, dir \, dump;
#X obj 202 269 else/display 2;
#X text 174 244 <= same as "n \, dir \, dump";
#X text 233 220 <= same as "bang";
#X text 55 323 'directory' =>;
#X text 155 177 <= sends directory path (second outlet);
#X text 213 465 output number of found files in the (3rd outlet),
f 54;
#X text 138 135 <= resets to patch's directory;
#X text 156 198 <= sends number of files (third outlet);
#N canvas 539 96 581 530 seek 0;
#X msg 394 222 seek \$1;
#X obj 394 194 nbx 5 14 -1e+37 1e+37 0 0 empty empty empty 0 -8 0 10
-228856 -1 -1 0 256;
#X obj 464 284 else/display;
#X obj 394 321 else/display;
#X msg 354 221 n;
#X msg 459 223 next;
#X text 72 76 The 'next' message increments the seek value and will
also wrap according to the number of files., f 74;
#X msg 99 229 seek \$1;
#X obj 83 291 else/display;
#X obj 99 202 nbx 3 14 -1e+37 1e+37 0 0 empty empty empty 0 -8 0 10
-228856 -1 -1 23 256;
#X obj 99 126 bng 18 250 50 0 empty empty empty 17 7 0 10 -228856 -1
-1;
#X msg 60 228 next;
#X obj 83 383 else/display;
#X obj 99 261 else/dir, f 15;
#X obj 186 153 nbx 4 14 -1e+37 1e+37 0 0 empty empty empty 0 -8 0 10
-228856 -1 -1 365 256;
#X msg 83 356 \$2/\$1;
#X obj 99 176 else/rand.i 1 1;
#X obj 394 255 else/dir -ext .wav;
#X obj 83 327 pack s s;
#X obj 183 231 else/initmess n \, dir;
#X text 110 432 Note that the files are sorted with case sensitivity
\, in the same way as in the shell/terminal. This means upper case
letters are sorted before lower case letters., f 66;
#X text 110 472 By the way \, the maximum number of files that the
[dir] object can load is: 2Ë†15 (32.768)!, f 66;
#X text 120 126 <= random file from the "else" library folder;
#X text 235 151 n;
#X text 72 15 The 'n' message outputs the number of found files in
the opened directory in the 3rd outlet. The seek message can search
for a file acording to a number. If the seek number is greater than
the number of files \, then the search is wrapped according to the
number of files. The seek number is indexed from '1' and clipped to
'1' if < 1!, f 74;
#X connect 0 0 17 0;
#X connect 1 0 0 0;
#X connect 4 0 17 0;
#X connect 5 0 17 0;
#X connect 7 0 13 0;
#X connect 8 0 18 0;
#X connect 9 0 7 0;
#X connect 10 0 16 0;
#X connect 11 0 13 0;
#X connect 13 0 8 0;
#X connect 13 1 18 1;
#X connect 13 2 14 0;
#X connect 14 0 16 2;
#X connect 15 0 12 0;
#X connect 16 0 9 0;
#X connect 17 0 3 0;
#X connect 17 2 2 0;
#X connect 18 0 15 0;
#X connect 19 0 13 0;
#X restore 485 290 pd seek;
#X text 151 394 reopen -;
#X connect 16 0 17 0;
#X connect 17 0 69 0;
#X connect 17 1 33 0;
#X connect 17 2 61 0;
#X connect 17 3 74 0;
#X connect 20 0 17 0;
#X connect 21 0 17 0;
#X connect 34 0 17 0;
#X connect 35 0 17 0;
#X connect 72 0 17 0;
#X connect 73 0 17 0;
