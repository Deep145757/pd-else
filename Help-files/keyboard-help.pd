#N canvas 607 23 560 739 10;
#X obj 5 405 cnv 3 550 3 empty empty inlets 8 12 0 13 -228856 -1 0
;
#X obj 5 576 cnv 3 550 3 empty empty outlets 8 12 0 13 -228856 -1 0
;
#X obj 5 609 cnv 3 550 3 empty empty arguments 8 12 0 13 -228856 -1
0;
#X obj 6 711 cnv 15 552 21 empty empty empty 20 12 0 14 -233017 -33289
0;
#X obj 116 414 cnv 17 3 133 empty empty 0 5 9 0 16 -228856 -162280
0;
#X obj 110 41 cnv 4 4 4 empty empty GUI 0 28 2 18 -233017 -1 0;
#X obj 26 41 cnv 4 4 4 empty empty Keyboard 0 28 2 18 -233017 -1 0
;
#X obj 3 4 cnv 15 301 42 empty empty keyboard 20 20 2 37 -233017 -1
0;
#N canvas 0 22 450 278 (subpatch) 0;
#X coords 0 1 100 -1 302 42 1;
#X restore 3 4 graph;
#X obj 58 336 unpack float float;
#X obj 163 361 nbx 5 14 -1e+37 1e+37 0 0 empty empty empty 0 -8 0 10
-228856 -1 -1 0 256;
#X obj 58 361 nbx 5 14 -1e+37 1e+37 0 0 empty empty empty 0 -8 0 10
-228856 -1 -1 0 256;
#X text 54 378 MIDI Note;
#X text 162 377 Velocity;
#X obj 216 139 tgl 15 0 empty empty empty 17 7 0 10 -228856 -1 -1 0
1;
#X obj 216 208 makenote 100 200;
#X obj 216 160 metro 300;
#X obj 216 182 expr random(48 \, 96);
#X text 206 414 float;
#X text 206 552 float;
#X text 256 414 - MIDI Note value;
#X text 256 429 - MIDI Note and Velocity values;
#X text 170 429 list <f \, f>;
#X obj 116 552 cnv 17 3 17 empty empty 1 5 9 0 16 -228856 -162280 0
;
#X obj 115 586 cnv 17 3 17 empty empty 0 5 9 0 16 -228856 -162280 0
;
#X text 259 586 - MIDI Note and Velocity values;
#X text 170 586 list <f \, f>;
#X text 147 636 2) float - height in pixels (default 80);
#X text 147 654 3) float - number of octaves (default 4);
#X obj 307 5 cnv 15 250 40 empty empty empty 12 13 0 18 -128992 -233080
0;
#X obj 346 12 cnv 10 10 10 empty empty ELSE 0 15 2 30 -128992 -233080
0;
#X obj 459 12 cnv 10 10 10 empty empty EL 0 6 2 13 -128992 -233080
0;
#X obj 479 12 cnv 10 10 10 empty empty Locus 0 6 2 13 -128992 -233080
0;
#X obj 516 12 cnv 10 10 10 empty empty Solus' 0 6 2 13 -128992 -233080
0;
#X obj 465 27 cnv 10 10 10 empty empty ELSE 0 6 2 13 -128992 -233080
0;
#X obj 503 27 cnv 10 10 10 empty empty library 0 6 2 13 -128992 -233080
0;
#N canvas 0 22 450 278 (subpatch) 0;
#X coords 0 1 100 -1 252 42 1;
#X restore 306 4 graph;
#X text 55 90 [keyboard] is a GUI that receives MIDI notes and also
generates them from mouse clicking. Right click it for properties!
, f 64;
#X text 256 443 - set key width;
#X text 158 443 width <float>;
#X text 152 458 height <float>;
#X text 170 473 oct <float>;
#X text 256 473 - transpose octaves up or down;
#X text 164 488 8ves <float>;
#X text 256 488 - set number of octaves;
#X text 164 503 lowc <float>;
#X text 256 503 - set C# of lowest C;
#N canvas 795 23 468 538 example 0;
#X obj 57 116 tgl 20 0 empty empty empty 17 7 0 10 -228856 -1 -1 0
1;
#X obj 57 215 makenote 100 1500;
#X obj 57 144 metro 800;
#X obj 259 349 catch~ \$0-voice;
#N canvas 870 145 477 340 voice 0;
#X obj 125 33 inlet;
#X obj 213 99 / 127;
#X obj 398 171 tgl 40 0 empty empty empty 17 7 0 10 -228856 -1 -1 1
1;
#X obj 125 186 *~;
#X obj 128 247 *~;
#X obj 398 223 switch~;
#X obj 125 95 mtof;
#X obj 262 208 vsl 20 100 0 1 0 0 xxx xx empty 0 -9 0 10 -228856 -1
-1 0 1;
#X obj 38 185 else/sine~;
#X obj 125 136 else/sine~;
#X obj 125 65 unpack float float;
#X obj 213 136 else/adsr~ 500 200 0.5 1000;
#X obj 262 179 else/sig2float~;
#X obj 128 278 throw~ \$0-voice;
#X obj 39 144 * 1.497;
#X connect 0 0 10 0;
#X connect 1 0 11 0;
#X connect 2 0 5 0;
#X connect 3 0 8 2;
#X connect 4 0 13 0;
#X connect 6 0 9 0;
#X connect 6 0 14 0;
#X connect 8 0 4 0;
#X connect 9 0 3 0;
#X connect 10 0 6 0;
#X connect 10 1 1 0;
#X connect 11 0 3 1;
#X connect 11 0 4 1;
#X connect 11 0 12 0;
#X connect 11 1 2 0;
#X connect 12 0 7 0;
#X connect 14 0 8 0;
#X restore 57 456 pd voice;
#N canvas 1014 119 477 340 voice 0;
#X obj 125 33 inlet;
#X obj 213 99 / 127;
#X obj 398 171 tgl 40 0 empty empty empty 17 7 0 10 -228856 -1 -1 1
1;
#X obj 125 186 *~;
#X obj 128 247 *~;
#X obj 398 223 switch~;
#X obj 125 95 mtof;
#X obj 262 208 vsl 20 100 0 1 0 0 xxx xx empty 0 -9 0 10 -228856 -1
-1 0 1;
#X obj 38 185 else/sine~;
#X obj 125 136 else/sine~;
#X obj 125 65 unpack float float;
#X obj 213 136 else/adsr~ 500 200 0.5 1000;
#X obj 262 179 else/sig2float~;
#X obj 128 278 throw~ \$0-voice;
#X obj 39 144 * 1.497;
#X connect 0 0 10 0;
#X connect 1 0 11 0;
#X connect 2 0 5 0;
#X connect 3 0 8 2;
#X connect 4 0 13 0;
#X connect 6 0 9 0;
#X connect 6 0 14 0;
#X connect 8 0 4 0;
#X connect 9 0 3 0;
#X connect 10 0 6 0;
#X connect 10 1 1 0;
#X connect 11 0 3 1;
#X connect 11 0 4 1;
#X connect 11 0 12 0;
#X connect 11 1 2 0;
#X connect 12 0 7 0;
#X connect 14 0 8 0;
#X restore 78 432 pd voice;
#N canvas 1014 119 477 340 voice 0;
#X obj 125 33 inlet;
#X obj 213 99 / 127;
#X obj 398 171 tgl 40 0 empty empty empty 17 7 0 10 -228856 -1 -1 0
1;
#X obj 125 186 *~;
#X obj 128 247 *~;
#X obj 398 223 switch~;
#X obj 125 95 mtof;
#X obj 262 208 vsl 20 100 0 1 0 0 xxx xx empty 0 -9 0 10 -228856 -1
-1 0 1;
#X obj 38 185 else/sine~;
#X obj 125 136 else/sine~;
#X obj 125 65 unpack float float;
#X obj 213 136 else/adsr~ 500 200 0.5 1000;
#X obj 262 179 else/sig2float~;
#X obj 128 278 throw~ \$0-voice;
#X obj 39 144 * 1.497;
#X connect 0 0 10 0;
#X connect 1 0 11 0;
#X connect 2 0 5 0;
#X connect 3 0 8 2;
#X connect 4 0 13 0;
#X connect 6 0 9 0;
#X connect 6 0 14 0;
#X connect 8 0 4 0;
#X connect 9 0 3 0;
#X connect 10 0 6 0;
#X connect 10 1 1 0;
#X connect 11 0 3 1;
#X connect 11 0 4 1;
#X connect 11 0 12 0;
#X connect 11 1 2 0;
#X connect 12 0 7 0;
#X connect 14 0 8 0;
#X restore 100 406 pd voice;
#N canvas 1014 119 477 340 voice 0;
#X obj 125 33 inlet;
#X obj 213 99 / 127;
#X obj 398 171 tgl 40 0 empty empty empty 17 7 0 10 -228856 -1 -1 0
1;
#X obj 125 186 *~;
#X obj 128 247 *~;
#X obj 398 223 switch~;
#X obj 125 95 mtof;
#X obj 262 208 vsl 20 100 0 1 0 0 xxx xx empty 0 -9 0 10 -228856 -1
-1 0 1;
#X obj 38 185 else/sine~;
#X obj 125 136 else/sine~;
#X obj 125 65 unpack float float;
#X obj 213 136 else/adsr~ 500 200 0.5 1000;
#X obj 262 179 else/sig2float~;
#X obj 128 278 throw~ \$0-voice;
#X obj 39 144 * 1.497;
#X connect 0 0 10 0;
#X connect 1 0 11 0;
#X connect 2 0 5 0;
#X connect 3 0 8 2;
#X connect 4 0 13 0;
#X connect 6 0 9 0;
#X connect 6 0 14 0;
#X connect 8 0 4 0;
#X connect 9 0 3 0;
#X connect 10 0 6 0;
#X connect 10 1 1 0;
#X connect 11 0 3 1;
#X connect 11 0 4 1;
#X connect 11 0 12 0;
#X connect 11 1 2 0;
#X connect 12 0 7 0;
#X connect 14 0 8 0;
#X restore 122 382 pd voice;
#X text 48 22 [keyboard] displaying randomly generated notes and driving
a [poly] with 4 voices. Also see that each voice subpatch has [adsr~]'s
status outlet to control the DSP status for that subpatch - open and
check it. You should also try pd's [clone] object for managing polyphonic
synths., f 58;
#X obj 358 478 clone;
#X text 282 479 see also:;
#X text 221 152 Try clicking and dragging \, it also works and slides
through chromatically!, f 26;
#X obj 259 393 else/out~;
#X obj 57 245 else/keyboard 17 80 3 2 0;
#X obj 57 179 else/rand.i 36 72;
#X obj 57 348 else/voices 4 1;
#X connect 0 0 2 0;
#X connect 1 0 13 0;
#X connect 1 1 13 1;
#X connect 2 0 14 0;
#X connect 3 0 12 0;
#X connect 13 0 15 0;
#X connect 14 0 1 0;
#X connect 15 0 4 0;
#X connect 15 1 5 0;
#X connect 15 2 6 0;
#X connect 15 3 7 0;
#X restore 450 342 pd example;
#X msg 58 205 oct \$1;
#X msg 58 157 1;
#X msg 68 180 -1;
#X text 90 157 octave up;
#X text 100 180 octave down;
#X text 256 552 - velocity of MIDI note value;
#X text 152 518 toggle <float>;
#X obj 58 241 else/keyboard 17 80 4 3 0;
#X text 256 458 - set keyboard width;
#X text 256 518 - sets toggle mode on of off;
#X text 147 672 4) float - number of lowest C (default 3 - that is
"C3");
#X text 147 688 5) float - non zero sets to toggle mode;
#N canvas 795 23 442 448 toggle 0;
#X obj 299 400 clone;
#X text 223 401 see also:;
#X obj 255 318 else/out~;
#X obj 47 173 else/keyboard 17 80 3 3 1;
#X text 148 43 In toggle mode \, you need to click on a note to set
it On or Off. Dragging doesn't work., f 36;
#X text 148 87 When in toggle mode \, you can flush hangong Note On
messages. When you set to non toggle mode \, the object also flushes
hanging notes., f 36;
#N canvas 870 145 477 340 voice 0;
#X obj 125 33 inlet;
#X obj 213 99 / 127;
#X obj 398 171 tgl 40 0 empty empty empty 17 7 0 10 -228856 -1 -1 1
1;
#X obj 125 186 *~;
#X obj 128 247 *~;
#X obj 398 223 switch~;
#X obj 125 95 mtof;
#X obj 262 208 vsl 20 100 0 1 0 0 xxx xx empty 0 -9 0 10 -228856 -1
-1 0 1;
#X obj 38 185 else/sine~;
#X obj 125 136 else/sine~;
#X obj 125 65 unpack float float;
#X obj 213 136 else/adsr~ 500 200 0.5 1000;
#X obj 262 179 else/sig2float~;
#X obj 39 144 * 1.497;
#X obj 128 278 throw~ \$0-tgl;
#X connect 0 0 10 0;
#X connect 1 0 11 0;
#X connect 2 0 5 0;
#X connect 3 0 8 2;
#X connect 4 0 14 0;
#X connect 6 0 9 0;
#X connect 6 0 13 0;
#X connect 8 0 4 0;
#X connect 9 0 3 0;
#X connect 10 0 6 0;
#X connect 10 1 1 0;
#X connect 11 0 3 1;
#X connect 11 0 4 1;
#X connect 11 0 12 0;
#X connect 11 1 2 0;
#X connect 12 0 7 0;
#X connect 13 0 8 0;
#X restore 47 377 pd voice;
#X obj 47 269 else/voices 4 1;
#X msg 47 92 toggle \$1;
#X obj 47 64 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 1 1
;
#X obj 47 32 loadbang;
#X msg 80 133 flush;
#X obj 255 284 catch~ \$0-tgl;
#N canvas 870 145 477 340 voice 0;
#X obj 125 33 inlet;
#X obj 213 99 / 127;
#X obj 398 171 tgl 40 0 empty empty empty 17 7 0 10 -228856 -1 -1 0
1;
#X obj 125 186 *~;
#X obj 128 247 *~;
#X obj 398 223 switch~;
#X obj 125 95 mtof;
#X obj 262 208 vsl 20 100 0 1 0 0 xxx xx empty 0 -9 0 10 -228856 -1
-1 0 1;
#X obj 38 185 else/sine~;
#X obj 125 136 else/sine~;
#X obj 125 65 unpack float float;
#X obj 213 136 else/adsr~ 500 200 0.5 1000;
#X obj 262 179 else/sig2float~;
#X obj 39 144 * 1.497;
#X obj 128 278 throw~ \$0-tgl;
#X connect 0 0 10 0;
#X connect 1 0 11 0;
#X connect 2 0 5 0;
#X connect 3 0 8 2;
#X connect 4 0 14 0;
#X connect 6 0 9 0;
#X connect 6 0 13 0;
#X connect 8 0 4 0;
#X connect 9 0 3 0;
#X connect 10 0 6 0;
#X connect 10 1 1 0;
#X connect 11 0 3 1;
#X connect 11 0 4 1;
#X connect 11 0 12 0;
#X connect 11 1 2 0;
#X connect 12 0 7 0;
#X connect 13 0 8 0;
#X restore 68 353 pd voice;
#N canvas 870 145 477 340 voice 0;
#X obj 125 33 inlet;
#X obj 213 99 / 127;
#X obj 398 171 tgl 40 0 empty empty empty 17 7 0 10 -228856 -1 -1 0
1;
#X obj 125 186 *~;
#X obj 128 247 *~;
#X obj 398 223 switch~;
#X obj 125 95 mtof;
#X obj 262 208 vsl 20 100 0 1 0 0 xxx xx empty 0 -9 0 10 -228856 -1
-1 0 1;
#X obj 38 185 else/sine~;
#X obj 125 136 else/sine~;
#X obj 125 65 unpack float float;
#X obj 213 136 else/adsr~ 500 200 0.5 1000;
#X obj 262 179 else/sig2float~;
#X obj 39 144 * 1.497;
#X obj 128 278 throw~ \$0-tgl;
#X connect 0 0 10 0;
#X connect 1 0 11 0;
#X connect 2 0 5 0;
#X connect 3 0 8 2;
#X connect 4 0 14 0;
#X connect 6 0 9 0;
#X connect 6 0 13 0;
#X connect 8 0 4 0;
#X connect 9 0 3 0;
#X connect 10 0 6 0;
#X connect 10 1 1 0;
#X connect 11 0 3 1;
#X connect 11 0 4 1;
#X connect 11 0 12 0;
#X connect 11 1 2 0;
#X connect 12 0 7 0;
#X connect 13 0 8 0;
#X restore 90 327 pd voice;
#N canvas 870 145 477 340 voice 0;
#X obj 125 33 inlet;
#X obj 213 99 / 127;
#X obj 398 171 tgl 40 0 empty empty empty 17 7 0 10 -228856 -1 -1 0
1;
#X obj 125 186 *~;
#X obj 128 247 *~;
#X obj 398 223 switch~;
#X obj 125 95 mtof;
#X obj 262 208 vsl 20 100 0 1 0 0 xxx xx empty 0 -9 0 10 -228856 -1
-1 0 1;
#X obj 38 185 else/sine~;
#X obj 125 136 else/sine~;
#X obj 125 65 unpack float float;
#X obj 213 136 else/adsr~ 500 200 0.5 1000;
#X obj 262 179 else/sig2float~;
#X obj 39 144 * 1.497;
#X obj 128 278 throw~ \$0-tgl;
#X connect 0 0 10 0;
#X connect 1 0 11 0;
#X connect 2 0 5 0;
#X connect 3 0 8 2;
#X connect 4 0 14 0;
#X connect 6 0 9 0;
#X connect 6 0 13 0;
#X connect 8 0 4 0;
#X connect 9 0 3 0;
#X connect 10 0 6 0;
#X connect 10 1 1 0;
#X connect 11 0 3 1;
#X connect 11 0 4 1;
#X connect 11 0 12 0;
#X connect 11 1 2 0;
#X connect 12 0 7 0;
#X connect 13 0 8 0;
#X restore 112 303 pd voice;
#X connect 3 0 7 0;
#X connect 7 0 6 0;
#X connect 7 1 13 0;
#X connect 7 2 14 0;
#X connect 7 3 15 0;
#X connect 8 0 3 0;
#X connect 9 0 8 0;
#X connect 10 0 9 0;
#X connect 11 0 3 0;
#X connect 12 0 2 0;
#X restore 456 366 pd toggle;
#X text 147 618 1) float - white key width in pixels (default 17);
#X text 206 534 flush;
#X text 256 534 - flushes Note On keys (when in toggle mode);
#X connect 9 0 11 0;
#X connect 9 1 10 0;
#X connect 14 0 16 0;
#X connect 15 0 55 0;
#X connect 15 1 55 1;
#X connect 16 0 17 0;
#X connect 17 0 15 0;
#X connect 48 0 55 0;
#X connect 49 0 48 0;
#X connect 50 0 48 0;
#X connect 55 0 9 0;
