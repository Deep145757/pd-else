#N canvas 219 293 529 571 12;
#N canvas 984 103 427 493 math 0;
#X obj 63 57 inlet~;
#X obj 146 57 inlet~;
#X text 211 27 ratio;
#X text 146 27 level;
#X text 63 27 Threshold;
#X obj 128 123 -~;
#X obj 120 239 sig~ 1;
#X obj 194 201 *~;
#X obj 194 240 else/db2lin~;
#X obj 212 168 else/f2s~ 10;
#X obj 211 57 inlet;
#X obj 120 283 -~;
#X obj 120 333 *~ -1;
#X obj 120 428 outlet~;
#X text 289 86 avoid div by 0, f 8;
#X text 205 291 Gain change in dB is (Threshold - Level) * (1 -1 /
ratio)., f 21;
#X text 217 348 Convert dB gain to correction to unity gain., f 18
;
#X obj 211 93 max 1e-06;
#X obj 211 132 expr 1 - 1/$f1;
#X connect 0 0 5 0;
#X connect 1 0 5 1;
#X connect 5 0 7 0;
#X connect 6 0 11 0;
#X connect 7 0 8 0;
#X connect 8 0 11 1;
#X connect 9 0 7 1;
#X connect 10 0 17 0;
#X connect 11 0 12 0;
#X connect 12 0 13 0;
#X connect 17 0 18 0;
#X connect 18 0 9 0;
#X restore 318 221 pd math;
#X obj 129 39 inlet~;
#X obj 189 39 inlet~;
#X obj 189 222 expr~ $v1 > $v2;
#X obj 300 271 *~;
#X obj 300 309 +~ 1;
#X obj 318 152 r \$0-threshold;
#X obj 364 188 r \$0-ratio;
#X obj 130 433 *~;
#X obj 333 271 r \$0-attack;
#X obj 367 297 r \$0-release;
#X obj 189 109 else/mov.rms~ 1024 -db;
#X obj 130 469 outlet~;
#N canvas 1009 152 451 376 set 1;
#X obj 81 42 inlet;
#X obj 81 128 route thresh ratio attack release, f 12;
#X obj 186 304 s \$0-threshold;
#X obj 217 283 s \$0-ratio;
#X obj 249 262 s \$0-attack;
#X obj 281 241 s \$0-release;
#X obj 186 127 unpack f f f f;
#X obj 196 52 else/lb 2;
#X obj 158 84 else/args;
#X msg 256 79 -60 3 10 10;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 1 1 3 0;
#X connect 1 2 4 0;
#X connect 1 3 5 0;
#X connect 6 0 2 0;
#X connect 6 1 3 0;
#X connect 6 2 4 0;
#X connect 6 3 5 0;
#X connect 7 0 8 0;
#X connect 7 1 9 0;
#X connect 8 0 6 0;
#X connect 9 0 6 0;
#X restore 396 79 pd set;
#X obj 396 39 inlet;
#X obj 300 338 else/slew~;
#X text 237 427 Part of ELSE \; https://github.com/porres/pd-else;
#X text 239 408 Alexandre Torres Porres (2019);
#X connect 0 0 4 1;
#X connect 1 0 8 0;
#X connect 2 0 11 0;
#X connect 3 0 4 0;
#X connect 4 0 5 0;
#X connect 5 0 15 0;
#X connect 6 0 0 0;
#X connect 6 0 3 1;
#X connect 7 0 0 2;
#X connect 8 0 12 0;
#X connect 9 0 15 1;
#X connect 10 0 15 2;
#X connect 11 0 3 0;
#X connect 11 0 0 1;
#X connect 14 0 13 0;
#X connect 15 0 8 1;
