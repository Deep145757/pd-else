#N canvas 448 240 407 142 10;
#X obj 33 92 outlet;
#X obj 33 22 inlet;
#X obj 107 22 inlet;
#X obj 108 92 outlet;
#X text 182 60 Part of ELSE \; https://github.com/porres/pd-else;
#X text 184 41 Alexandre Torres Porres (2018);
#N canvas 535 170 522 514 monophonic 0;
#X obj 197 484 outlet;
#X obj 254 484 outlet;
#X obj 197 434 else/changed;
#X obj 13 9 inlet;
#X obj 350 9 inlet;
#X obj 89 38 poly 10 1, f 44;
#X obj 126 388 pack f 0;
#X msg 76 366 0;
#X obj 76 389 v i_\$0;
#X obj 126 212 symbol notes_\$0;
#X obj 89 182 symbol order_\$0;
#X obj 126 362 v last_\$0;
#X obj 89 133 select 0 1 2, f 19;
#X obj 126 266 array max;
#X obj 197 404 pack float float;
#X obj 197 370 expr notes_\$0[$f1] \; velocities_\$0[$f1];
#X obj 197 347 v idx_\$0;
#X obj 308 260 sel 1;
#X msg 325 159 128;
#X obj 325 180 v low_\$0;
#X obj 192 182 else/loop 10;
#X obj 192 158 trigger bang bang;
#X msg 291 187 0;
#X obj 126 291 > 0;
#X obj 126 320 sel 0 1;
#X obj 126 241 t b s;
#X obj 308 282 expr 1 \; low_\$0 = $f2 \; idx_\$0 = $f3;
#X obj 417 291 v note_\$0;
#X obj 276 281 f;
#X obj 13 89 clip 0 2;
#X obj 13 146 v mode_\$0;
#X obj 13 63 route mode;
#N canvas 484 297 675 204 init 0;
#X obj 30 51 else/args;
#X obj 30 97 route -last -high -low;
#X msg 30 123 0;
#X msg 73 123 1;
#X msg 116 123 2;
#X obj 30 156 v mode_\$0;
#N canvas 0 22 450 278 (subpatch) 0;
#X array notes_\$0 10 float 2;
#X coords 0 127 10 0 150 100 1 0 0;
#X restore 192 53 graph;
#N canvas 0 22 450 278 (subpatch) 0;
#X array velocities_\$0 10 float 2;
#X coords 0 127 10 0 150 100 1 0 0;
#X restore 347 53 graph;
#N canvas 0 22 450 278 (subpatch) 0;
#X array order_\$0 10 float 2;
#X coords 0 127 10 0 150 100 1 0 0;
#X restore 501 53 graph;
#X obj 30 27 loadbang;
#X obj 30 74 else/break -;
#X connect 0 0 10 0;
#X connect 1 0 2 0;
#X connect 1 1 3 0;
#X connect 1 2 4 0;
#X connect 2 0 5 0;
#X connect 3 0 5 0;
#X connect 4 0 5 0;
#X connect 9 0 0 0;
#X connect 10 0 1 0;
#X restore 444 71 pd init \; tables;
#X obj 89 65 expr mode_\$0 \; order_\$0[$f1-1] = (i_\$0 = i_\$0+1)
* ($f3>0) \; notes_\$0[$f1-1] = $f2 * ($f3>0) \; velocities_\$0[$f1-1]
= $f3 \; last_\$0 = $f2;
#X obj 328 382 loadbang;
#X msg 328 406 set 0 0;
#X obj 197 459 unpack f f;
#X obj 308 217 expr note_\$0>0 && note_\$0<low_\$0 \; notes_\$0[$f1]
\; $f1;
#X connect 2 0 36 0;
#X connect 3 0 31 0;
#X connect 4 0 5 1;
#X connect 5 0 33 0;
#X connect 5 1 33 1;
#X connect 5 2 33 2;
#X connect 6 0 2 0;
#X connect 7 0 8 0;
#X connect 9 0 25 0;
#X connect 10 0 25 0;
#X connect 11 0 6 0;
#X connect 12 0 10 0;
#X connect 12 1 9 0;
#X connect 12 2 21 0;
#X connect 13 0 23 0;
#X connect 13 1 16 0;
#X connect 14 0 2 0;
#X connect 15 0 14 0;
#X connect 15 1 14 1;
#X connect 16 0 15 0;
#X connect 17 0 26 0;
#X connect 18 0 19 0;
#X connect 20 0 37 0;
#X connect 20 1 28 0;
#X connect 21 0 20 0;
#X connect 21 1 22 0;
#X connect 21 1 18 0;
#X connect 22 0 28 1;
#X connect 23 0 24 0;
#X connect 24 0 7 0;
#X connect 24 0 11 0;
#X connect 24 1 16 0;
#X connect 25 0 13 0;
#X connect 25 1 13 2;
#X connect 26 0 28 1;
#X connect 28 0 24 0;
#X connect 29 0 30 0;
#X connect 29 0 12 0;
#X connect 31 0 29 0;
#X connect 31 1 5 0;
#X connect 33 0 12 0;
#X connect 34 0 35 0;
#X connect 35 0 2 0;
#X connect 36 0 0 0;
#X connect 36 1 1 0;
#X connect 37 0 17 0;
#X connect 37 1 26 1;
#X connect 37 1 27 0;
#X connect 37 2 26 2;
#X restore 33 56 pd monophonic;
#X connect 1 0 6 0;
#X connect 2 0 6 1;
#X connect 6 0 0 0;
#X connect 6 1 3 0;
