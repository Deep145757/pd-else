#N canvas 681 64 562 694 10;
#X obj 221 138 osc~ 440;
#X obj 1 1 cnv 15 301 42 empty empty output~ 20 20 2 37 -233017 -1
0;
#X obj 304 2 cnv 15 250 40 empty empty empty 12 13 0 18 -128992 -233080
0;
#N canvas 0 22 450 278 (subpatch) 0;
#X coords 0 1 100 -1 302 42 1 0 0;
#X restore 1 1 graph;
#N canvas 382 141 749 319 (subpatch) 0;
#X coords 0 -1 1 1 252 42 2 100 100;
#X restore 303 1 pd;
#X obj 343 9 cnv 10 10 10 empty empty ELSE 0 15 2 30 -128992 -233080
0;
#X obj 21 38 cnv 4 4 4 empty empty Stereo 0 28 2 18 -233017 -1 0;
#X obj 75 38 cnv 4 4 4 empty empty Output 0 28 2 18 -233017 -1 0;
#X obj 456 9 cnv 10 10 10 empty empty EL 0 6 2 13 -128992 -233080 0
;
#X obj 476 9 cnv 10 10 10 empty empty Locus 0 6 2 13 -128992 -233080
0;
#X obj 513 9 cnv 10 10 10 empty empty Solus' 0 6 2 13 -128992 -233080
0;
#X obj 462 24 cnv 10 10 10 empty empty ELSE 0 6 2 13 -128992 -233080
0;
#X obj 500 24 cnv 10 10 10 empty empty library 0 6 2 13 -128992 -233080
0;
#X text 75 195 click & drag ===>;
#X text 295 194 <= Mute button;
#X obj 201 172 ./output~;
#X text 296 176 <== DSP toggle;
#X text 75 79 The [output~] abstraction is a user-friendly gain adjuster
and stereo output \, with controls for "compute audio" (DSP) \, volume
\, gain multiplier \, mute \, dac~ and ramp time.;
#X obj 1 653 cnv 15 552 21 empty \$0-pddp.cnv.footer empty 20 12 0
14 -228856 -66577 0;
#X obj 1 528 cnv 3 550 3 empty \$0-pddp.cnv.more_info more_info 8 12
0 13 -228856 -1 0;
#X obj 1 228 cnv 3 550 3 empty \$0-pddp.cnv.inlets inlets 8 12 0 13
-228856 -1 0;
#X obj 1 400 cnv 3 550 3 empty \$0-pddp.cnv.outlets outlets 8 12 0
13 -228856 -1 0;
#X obj 1 473 cnv 3 550 3 empty \$0-pddp.cnv.argument arguments 8 12
0 13 -228856 -1 0;
#X text 123 238 signal;
#X text 123 260 signal;
#X text 129 283 float;
#X text 122 408 signal;
#X text 122 431 signal;
#X text 128 452 float;
#X text 173 238 - incoming signal routed to left channel output, f
60;
#X text 173 260 - incoming signal routed to right channel output,
f 60;
#X text 172 408 - gain scaled output of left inlet, f 60;
#X text 172 431 - gain scaled output of right inlet, f 60;
#X text 172 452 - slider value (0-1), f 60;
#X text 150 502 - scaling mode: 0 (quartic \, default) \, 1 (dB) or
2 (linear), f 60;
#X text 111 362 <on/off>;
#X text 93 299 dac <float>;
#X text 173 299 - turns dac~ on <1> or off <0> (outlets not affected)
, f 60;
#X text 87 313 gain <float>;
#X text 173 313 - sets linear gain multiplier (values <= 0 are ignored)
, f 60;
#X text 87 378 ramp <float>;
#X text 87 329 mode <float>;
#X text 173 329 - scaling mode: 0 (quartic \, default) \, 1 (dB) or
2 (linear), f 60;
#X text 88 480 1) float;
#X text 173 283 - sets slider (range is clipped to 0-1), f 60;
#X text 173 378 - sets ramp time in ms for slider values (default 20)
, f 60;
#X text 150 480 - [dac~]: <0>: no dac~ output \, <1>: dac~ output (default)
, f 60;
#X text 173 362 - turns DSP Engine (Compute Audio) "On" or "Off",
f 60;
#X text 88 502 2) float, f 9;
#X text 134 345 mute;
#X text 173 345 - mute/unmute button, f 60;
#N canvas 437 158 932 533 examples 0;
#X obj 208 188 hsl 128 15 0 1 0 0 empty empty empty -2 -8 0 10 -228856
-1 -1 0 1;
#X floatatom 208 208 5 0 0 0 - - -, f 5;
#X floatatom 208 359 5 0 0 0 - - -, f 5;
#X text 223 187 set slider (0-1);
#X msg 269 262 on;
#X msg 269 284 off;
#X obj 259 216 tgl 15 0 empty empty empty 17 7 0 10 -228856 -1 -1 0
1;
#X msg 259 237 dac \$1;
#X text 296 262 DSP on;
#X text 295 285 DSP off;
#X obj 125 234 osc~ 440;
#X text 278 216 dac~ on/off;
#X msg 638 228 mode \$1;
#X obj 638 151 vradio 15 0 0 3 \$0-dummy \$0-dummy-set empty 0 -8 0
10 -228856 -1 -1 0;
#X text 612 166 dB;
#X text 588 180 linear;
#X floatatom 638 204 5 0 0 0 - - -, f 5;
#X text 49 338 scaled => stereo output, f 9;
#X text 213 336 <= slider value;
#X obj 555 259 osc~ 440;
#X msg 705 234 gain \$1;
#X obj 705 208 nbx 5 14 -1e+37 1e+37 0 0 empty empty empty 0 -8 0 10
-228856 -1 -1 0 256;
#X obj 708 185 hsl 128 15 0.1 2 0 0 empty empty empty -2 -8 0 10 -228856
-1 -1 0 1;
#X floatatom 638 364 0 0 0 0 - - -;
#X text 582 150 quartic;
#X msg 742 322 ramp \$1;
#X obj 742 296 nbx 5 14 -1e+37 1e+37 0 0 empty empty empty 0 -8 0 10
-228856 -1 -1 0 256;
#X text 481 78 You can also set a ramp time for the slider value \,
the default is 20 ms and the minimum is 5 ms. This also affects the
slider value input in the right outlet.;
#X obj 717 265 hsl 128 15 0 1 0 0 empty empty empty -2 -8 0 10 -228856
-1 -1 0 1;
#X text 734 264 set slider (0-1);
#X text 481 17 [output~] has 3 scaling modes for its slider (the default
is "quartic"). You can set a linear gain multiplier \, which needs
to be greater than zero and also represents the maximum linear gain
achieved.;
#X msg 177 156 mute;
#X text 211 157 mute button;
#X text 23 61 If you mute the abstraction \, it also affects the outlets
and it sends no signal. So \, if you don't want to listen but need
the signal through the outlets \, use the 1st argument or the "dac
0" message into the right outlet - as it doesn't affect the outlets.
Using [output~] without the dac~ is useful for gain adjustments only.
;
#X text 726 184 maximum gain;
#X text 24 18 [output~] allows you to switch the DSP engine on or off
\, dac~ output on or off and mute/unmute without any clicks!;
#X text 664 149 <= slider scaling;
#X obj 125 370 else/meter2~;
#X obj 125 288 ./output~ 0;
#X obj 555 302 ./output~;
#X obj 531 363 else/meter2~;
#X connect 0 0 1 0;
#X connect 1 0 38 2;
#X connect 4 0 38 2;
#X connect 5 0 38 2;
#X connect 6 0 7 0;
#X connect 7 0 38 2;
#X connect 10 0 38 0;
#X connect 10 0 38 1;
#X connect 12 0 39 2;
#X connect 13 0 16 0;
#X connect 16 0 12 0;
#X connect 19 0 39 0;
#X connect 19 0 39 1;
#X connect 20 0 39 2;
#X connect 21 0 20 0;
#X connect 22 0 21 0;
#X connect 25 0 39 2;
#X connect 26 0 25 0;
#X connect 28 0 39 2;
#X connect 31 0 38 2;
#X connect 38 0 37 0;
#X connect 38 1 37 1;
#X connect 38 2 2 0;
#X connect 39 0 40 0;
#X connect 39 1 40 1;
#X connect 39 2 23 0;
#X restore 442 139 pd examples;
#N canvas 765 168 743 441 scaling 0;
#X obj 29 54 cnv 15 198 198 empty empty empty 20 12 0 14 -253888 -66577
0;
#N canvas 0 22 452 302 (subpatch) 0;
#X array \$0-dB 441 float 0;
#X array \$0-quartic 441 float 0;
#X array \$0-linear 441 float 0;
#X coords 0 1.01 440 0 200 200 1;
#X restore 29 53 graph;
#X text 96 130 linear;
#X text 23 257 0;
#X text 217 255 1;
#X text 234 78 o;
#X text 234 90 u;
#X text 234 102 t;
#X text 234 127 u;
#X text 234 139 t;
#X text 234 115 p;
#X text 234 160 v;
#X text 234 172 a;
#X text 234 184 l;
#X text 234 196 u;
#X text 234 208 e;
#X text 230 241 0;
#X text 230 51 1;
#X text 270 20 The graph to the left shows us how the scaling modes
work. A linear scaling doesn't really do anything \, the input is the
same as the output. We have then two non linear modes:;
#X text 278 118 -;
#X text 278 74 -;
#X text 128 182 quartic;
#X text 171 220 dB;
#X obj 468 298 osc~ 440;
#X msg 551 311 gain \$1;
#X obj 416 206 nbx 5 14 -1e+37 1e+37 0 0 empty empty empty 0 -8 0 10
-228856 -1 -1 0 256;
#X obj 551 288 nbx 5 14 -1e+37 1e+37 0 0 empty empty empty 0 -8 0 10
-228856 -1 -1 0 256;
#X obj 468 341 output~;
#X obj 551 174 vsl 15 80 0 2 0 0 empty empty empty 0 -9 0 10 -233017
-1 -1 0 1;
#X text 557 269 max gain;
#X text 392 203 dB;
#X text 67 262 entry (slider) value;
#X text 287 118 dB: This mode adopts a decibel scale with a range of
100 dB (using the [dbtorms~] object).;
#X text 22 303 The gain value is a simple multiplier to the output
value of the slider and determines the maximum linear gain output regardless
of the scaling mode. For example \, "2" will output the double of the
input amplitude \, and "0.5" half of it. This is useful if your input
isn't loud enough \, if it is too high or even if you're using multiple
[output~] objects as they all add to the same output.;
#X text 287 74 Quartic (default): This mode just gets the slider values
to the power of 4 (so \, for instance \, an input slider value of 0.5
becomes 0.125)., f 57;
#N canvas 0 22 450 300 init-array 0;
#X msg 71 41 441;
#X obj 71 63 t a b;
#X msg 112 85 0, f 4;
#X obj 71 85 until;
#X obj 71 117 f;
#X obj 109 117 + 1;
#X obj 71 232 / 441;
#X obj 71 198 t a a;
#X obj 330 164 t a a;
#X obj 330 232 dbtorms;
#X obj 198 212 / 441;
#X obj 198 180 t a a;
#X obj 198 234 pow 4;
#X obj 330 208 / 4.41;
#X obj 71 256 tabwrite \$0-linear;
#X obj 198 256 tabwrite \$0-quartic;
#X obj 71 18 loadbang;
#X obj 330 256 tabwrite \$0-dB;
#X connect 0 0 1 0;
#X connect 1 0 3 0;
#X connect 1 1 2 0;
#X connect 2 0 4 1;
#X connect 3 0 4 0;
#X connect 4 0 5 0;
#X connect 4 0 7 0;
#X connect 4 0 8 0;
#X connect 4 0 11 0;
#X connect 5 0 4 1;
#X connect 6 0 14 0;
#X connect 7 0 6 0;
#X connect 7 1 14 1;
#X connect 8 0 13 0;
#X connect 8 1 17 1;
#X connect 9 0 17 0;
#X connect 10 0 12 0;
#X connect 11 0 10 0;
#X connect 11 1 15 1;
#X connect 12 0 15 0;
#X connect 13 0 9 0;
#X connect 16 0 0 0;
#X restore 146 22 pd init-array;
#X obj 416 231 else/db2lin;
#X connect 23 0 27 0;
#X connect 23 0 27 1;
#X connect 24 0 27 2;
#X connect 25 0 36 0;
#X connect 26 0 24 0;
#X connect 28 0 26 0;
#X connect 36 0 26 0;
#X restore 437 185 pd scaling \; modes & gain;
#N canvas 876 153 511 576 DSP 0;
#X obj 129 295 osc~ 440;
#X obj 129 341 output~;
#X msg 212 285 on;
#X msg 228 311 off;
#X msg 177 96 \; pd dsp \$1;
#X obj 177 68 tgl 20 0 empty empty empty 17 7 0 10 -216373 -1 -1 0
1;
#X text 221 344 <= click on the DSP status;
#X text 33 142 These are the usual ways of doing this \, but the [output~]
abstraction offers yet other options.;
#X text 32 18 The DSP engine can be turned on and off in the main Pd
window \, in the "Media" menu or inside a patch with this message to
Pd:;
#X text 32 191 First \, if the DSP is on when you load [output~] \,
it checks the DSP state and loads the GUI accordingly \, where the
top right corner shows the status as either "on" or "off". But this
interface also acts as a toggle so you can click on it and change the
status. Another way of doing that in the patch is with the "on" and
"off" messages to the right inlet.;
#X text 236 358 (it behaves as a toggle);
#X text 40 411 Try the above [output~] abstraction as the only object
sending signals to pd's output \, now change the DSP status with the
volume up in one of the usual ways and with the interface provided
by [output~] (via toggle or messages). You'll notice how changing the
DSP status with [output~] does not 'click'! This is because it automatically
fades in and out when turning it on and off!;
#X connect 0 0 1 0;
#X connect 0 0 1 1;
#X connect 2 0 1 2;
#X connect 3 0 1 2;
#X connect 5 0 4 0;
#X restore 430 162 pd DSP status;
#X text 96 534 [output~] was originally in Pd Extended's extra folder
as a variant of [ezoutput~] from PDDP. This is an improved \, redesigned
and backwards compatible version by Alexandre Porres with extra features.
, f 57;
#X obj 75 238 cnv 17 3 17 empty empty 0 5 9 0 16 -228856 -162280 0
;
#X obj 75 259 cnv 17 3 17 empty empty 1 5 9 0 16 -228856 -162280 0
;
#X obj 74 408 cnv 17 3 17 empty empty 0 5 9 0 16 -228856 -162280 0
;
#X obj 74 429 cnv 17 3 17 empty empty 1 5 9 0 16 -228856 -162280 0
;
#X obj 74 450 cnv 17 3 17 empty empty 2 5 9 0 16 -228856 -162280 0
;
#X obj 75 282 cnv 17 3 111 empty empty 2 5 9 0 16 -228856 -162280 0
;
#X text 96 590 This was first made to be included in Purr Data \, which
carries this version of [output~] natively. Nonetheless \, this abstraction
is a vanilla compatible version made available in the ELSE library.
, f 57;
#X connect 0 0 15 0;
#X connect 0 0 15 1;
#X coords 0 694 1 693 74 39 0;
